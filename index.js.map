{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js"],"sourcesContent":["import Axios from 'axios';\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n// *! ..................................................................................\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nconst galleryEl = document.querySelector('.gallery');\n\n\n\n\n// *! ..................................................................................\n\n\n\n\n\nconst formEl = document.querySelector('.form');\nconst userInput = document.querySelector('.input');\n\n\nformEl.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const userValue = userInput.value.trim();\n\n  if (userValue.length === 0) {\n    iziToast.warning({\n      message: 'Будь ласка, введіть запит',\n      position: 'topRight',\n      backgroundColor: 'rgb(255, 0, 34)',\n      titleColor: 'white',\n      messageColor: 'white',\n    });\n    return;\n  }\n  clearGallery();\n\n  showLoader();\n\n  getImagesByQuery(userValue).then(images => {\n    createGallery(images);\n    hideLoader();\n\n  })\n  .catch (error => {\n    console.error('Помилка при завантаженні зображень:', error);\n    hideLoader();\n  });\n});\n\n\nfunction getImagesByQuery(query) {\n       \n    return Axios.get(\"https://pixabay.com/api/\", {\n        params: {\n            key: '50312672-6ff896f2a2c8f700d68e76dd9',\n            q: query,\n            image_type: 'photo',\n            orientation: 'horizontal',\n            safesearch: 'true',\n        }\n    }).then(res => {\n        if (res.data.hits.length === 0) {\n            iziToast.warning({\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                position: 'topRight',\n                backgroundColor: '#ef4040',\n                titleColor: 'white',\n                messageColor: 'white',\n            });\n            return [];\n        }\n\n        return res.data.hits.map(hit => {\n            console.log('hit:', hit);\n            return {\n                webformatURL: hit.webformatURL,\n                largeImageURL: hit.largeImageURL,\n                tags: hit.tags,\n                likes: hit.likes,\n                views: hit.views,\n                comments: hit.comments,\n                downloads: hit.downloads\n            }\n});\n        });\n}\n\nlet lightbox;\n\nfunction createGallery(images) {\n    galleryEl.innerHTML = images.map(\n        ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n      <li class=\"gallery-item\">\n        <a href=\"${largeImageURL}\">\n\n          <img src=\"${webformatURL}\"\n          title=\"Likes: ${likes} | Views: ${views} | Comments: ${comments} | Downloads: ${downloads}\"\n          alt=\"${tags}\"\n\n          />\n        </a>\n      </li>`\n    ).join('');\n\n\n    if (lightbox) lightbox.destroy();\n    console.log(document.querySelector('.gallery a')?.getAttribute('data-caption'));\n\n  lightbox = new SimpleLightbox('.gallery a', {\n    captions: true,\n        captionsData: 'title',\n        captionDelay: 250,\n      captionPosition: 'bottom',\n      captionClass: ''\n    });\n\n    lightbox.refresh();\n}\n\n  function clearGallery() {\n    const galleryEl = document.querySelector('.gallery');\n    galleryEl.innerHTML = '';\n  }\n\n  function showLoader() {\n    const loader = document.querySelector('.loader');\n    loader.classList.add('is-visible');\n  }\n\n  function hideLoader() {\n    const loader = document.querySelector('.loader');\n    loader.classList.remove('is-visible');\n  }\n\n\n\n\n\n\n\n\n\n\n\n\n// export function getImagesByQuery(query) {\n//     const BASE_URL = 'https://pixabay.com/api/';\n\n//     const params = new URLSearchParams({\n//         key: '50312672-6ff896f2a2c8f700d68e76dd9',\n//         q: query,\n//         image_type: 'photo',\n//         orientation: 'horizontal',\n//         safesearch: 'true',      \n\n//     });\n\n//     const url = `${BASE_URL}?${params}`\n    \n//     return fetch(url, {params}).then(res => res.json());\n    \n// }\n// getImagesByQuery('flower');\n\n\n\n\n\n\n\n// refs.formEl.addEventListener('submit', e => {\n//     e.preventDefault();\n\n//     const userValue = e.target.elements.query.value;\n// })"],"names":["galleryEl","formEl","userInput","e","userValue","iziToast","clearGallery","showLoader","getImagesByQuery","images","createGallery","hideLoader","error","query","Axios","res","hit","lightbox","webformatURL","largeImageURL","tags","likes","views","comments","downloads","_a","SimpleLightbox"],"mappings":"owBAUA,MAAMA,EAAY,SAAS,cAAc,UAAU,EAW7CC,EAAS,SAAS,cAAc,OAAO,EACvCC,EAAY,SAAS,cAAc,QAAQ,EAGjDD,EAAO,iBAAiB,SAAUE,GAAK,CACrCA,EAAE,eAAc,EAEhB,MAAMC,EAAYF,EAAU,MAAM,KAAI,EAEtC,GAAIE,EAAU,SAAW,EAAG,CAC1BC,EAAS,QAAQ,CACf,QAAS,4BACT,SAAU,WACV,gBAAiB,kBACjB,WAAY,QACZ,aAAc,OACpB,CAAK,EACD,MACD,CACDC,IAEAC,IAEAC,EAAiBJ,CAAS,EAAE,KAAKK,GAAU,CACzCC,EAAcD,CAAM,EACpBE,GAEJ,CAAG,EACA,MAAOC,GAAS,CACf,QAAQ,MAAM,sCAAuCA,CAAK,EAC1DD,GACJ,CAAG,CACH,CAAC,EAGD,SAASH,EAAiBK,EAAO,CAE7B,OAAOC,EAAM,IAAI,2BAA4B,CACzC,OAAQ,CACJ,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACf,CACT,CAAK,EAAE,KAAKE,GACAA,EAAI,KAAK,KAAK,SAAW,GACzBV,EAAS,QAAQ,CACb,QAAS,2EACT,SAAU,WACV,gBAAiB,UACjB,WAAY,QACZ,aAAc,OAC9B,CAAa,EACM,IAGJU,EAAI,KAAK,KAAK,IAAIC,IACrB,QAAQ,IAAI,OAAQA,CAAG,EAChB,CACH,aAAcA,EAAI,aAClB,cAAeA,EAAI,cACnB,KAAMA,EAAI,KACV,MAAOA,EAAI,MACX,MAAOA,EAAI,MACX,SAAUA,EAAI,SACd,UAAWA,EAAI,SAClB,EACZ,CACQ,CACT,CAEA,IAAIC,EAEJ,SAASP,EAAcD,EAAQ,OAC3BT,EAAU,UAAYS,EAAO,IACzB,CAAC,CAAE,aAAAS,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAO;AAAA;AAAA,mBAEnEL,CAAa;AAAA;AAAA,sBAEVD,CAAY;AAAA,0BACRG,CAAK,aAAaC,CAAK,gBAAgBC,CAAQ,iBAAiBC,CAAS;AAAA,iBAClFJ,CAAI;AAAA;AAAA;AAAA;AAAA,YAKrB,EAAM,KAAK,EAAE,EAGLH,GAAUA,EAAS,UACvB,QAAQ,KAAIQ,EAAA,SAAS,cAAc,YAAY,IAAnC,YAAAA,EAAsC,aAAa,eAAe,EAEhFR,EAAW,IAAIS,EAAe,aAAc,CAC1C,SAAU,GACN,aAAc,QACd,aAAc,IAChB,gBAAiB,SACjB,aAAc,EACpB,CAAK,EAEDT,EAAS,QAAO,CACpB,CAEE,SAASX,GAAe,CACtB,MAAMN,EAAY,SAAS,cAAc,UAAU,EACnDA,EAAU,UAAY,EACvB,CAED,SAASO,GAAa,CACL,SAAS,cAAc,SAAS,EACxC,UAAU,IAAI,YAAY,CAClC,CAED,SAASI,GAAa,CACL,SAAS,cAAc,SAAS,EACxC,UAAU,OAAO,YAAY,CACrC"}