{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import Axios from 'axios';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\n\n\nexport function getImagesByQuery(query) {\n       \n    return Axios.get(\"https://pixabay.com/api/\", {\n        params: {\n            key: '50312672-6ff896f2a2c8f700d68e76dd9',\n            q: query,\n            image_type: 'photo',\n            orientation: 'horizontal',\n            safesearch: 'true',\n        }\n    }).then(res => {\n        if (res.data.hits.length === 0) {\n            iziToast.warning({\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                position: 'topRight',\n                backgroundColor: '#ef4040',\n                titleColor: 'white',\n                messageColor: 'white',\n            });\n            return [];\n        }\n\n        return res.data.hits.map(hit => {\n            return {\n                webformatURL: hit.webformatURL,\n                largeImageURL: hit.largeImageURL,\n                tags: hit.tags,\n                likes: hit.likes,\n                views: hit.views,\n                comments: hit.comments,\n                downloads: hit.downloads\n            }\n});\n        });\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// export function getImagesByQuery(query) {\n//     const BASE_URL = 'https://pixabay.com/api/';\n\n//     const params = new URLSearchParams({\n//         key: '50312672-6ff896f2a2c8f700d68e76dd9',\n//         q: query,\n//         image_type: 'photo',\n//         orientation: 'horizontal',\n//         safesearch: 'true',      \n\n//     });\n\n//     const url = `${BASE_URL}?${params}`\n    \n//     return fetch(url, {params}).then(res => res.json());\n    \n// }\n// getImagesByQuery('flower');\n\n\n\n\n\n\n\n// refs.formEl.addEventListener('submit', e => {\n//     e.preventDefault();\n\n//     const userValue = e.target.elements.query.value;\n// })","import { getImagesByQuery } from './pixabay-api';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst galleryEl = document.querySelector('.gallery');\nconst formEl = document.querySelector('.form');\nconst userInput = document.querySelector('.input');\nconst loader = document.querySelector('.loader');\n\nlet lightbox = new SimpleLightbox('.gallery a', {\n  captions: true,\n  captionsData: 'title',\n  captionDelay: 250,\n  captionPosition: 'bottom',\n});\n\n\n\nexport function handleFormSubmit(e) {\n  e.preventDefault();\n  const query = userInput.value.trim();\n\n  if (query === '') {\n    iziToast.warning({\n      message: 'Будь ласка, введіть запит',\n      position: 'topRight',\n      backgroundColor: 'rgb(255, 0, 34)',\n      titleColor: 'white',\n      messageColor: 'white',\n    });\n    return;\n  }\n\n  clearGallery();\n  showLoader();\n\n  getImagesByQuery(query)\n    .then(images => {\n      createGallery(images);\n      lightbox.refresh();\n    })\n    .catch(error => {\n      console.error('Помилка при завантаженні зображень:', error);\n    })\n    .finally(() => {\n      hideLoader();\n      userInput.value = '';\n    });\n}\n  \n\nfunction createGallery(images) {\n  const markup = images.map(\n    ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n      <li class=\"gallery-item\">\n        <a href=\"${largeImageURL}\" class=\"image-container\" alt=\"${tags}\">\n          <img src=\"${webformatURL}\"\n               alt=\"${tags}\"\n               title=\"Likes: ${likes} | Views: ${views} | Comments: ${comments} | Downloads: ${downloads}\" />\n          <div class=\"info-overlay\">\n            <div class=\"info-item\"><b>Likes</b>: ${likes}</div>\n            <div class=\"info-item\"><b>Views</b>: ${views}</div>\n            <div class=\"info-item\"><b>Comments</b>: ${comments}</div>\n            <div class=\"info-item\"><b>Downloads</b>: ${downloads}</div>\n          </div>\n        </a>\n      </li>`\n  ).join('');\n\n  galleryEl.innerHTML = markup;\n}\n\n\n\nfunction clearGallery() {\n    const galleryEl = document.querySelector('.gallery');\n    galleryEl.innerHTML = '';\n}\n\nfunction showLoader() {\n    const loader = document.querySelector('.loader');\n    loader.classList.add('is-visible');\n}\n\nfunction hideLoader() {\n    const loader = document.querySelector('.loader');\n    loader.classList.remove('is-visible');\n}\n","import { handleFormSubmit } from './js/render-functions';\n\nconst formEl = document.querySelector('.form');\nformEl.addEventListener('submit', handleFormSubmit);\n\n"],"names":["getImagesByQuery","query","Axios","res","iziToast","hit","galleryEl","userInput","lightbox","SimpleLightbox","handleFormSubmit","e","clearGallery","showLoader","images","createGallery","error","hideLoader","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","formEl"],"mappings":"owBAOO,SAASA,EAAiBC,EAAO,CAEpC,OAAOC,EAAM,IAAI,2BAA4B,CACzC,OAAQ,CACJ,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACf,CACT,CAAK,EAAE,KAAKE,GACAA,EAAI,KAAK,KAAK,SAAW,GACzBC,EAAS,QAAQ,CACb,QAAS,2EACT,SAAU,WACV,gBAAiB,UACjB,WAAY,QACZ,aAAc,OAC9B,CAAa,EACM,IAGJD,EAAI,KAAK,KAAK,IAAIE,IACd,CACH,aAAcA,EAAI,aAClB,cAAeA,EAAI,cACnB,KAAMA,EAAI,KACV,MAAOA,EAAI,MACX,MAAOA,EAAI,MACX,SAAUA,EAAI,SACd,UAAWA,EAAI,SAClB,EACZ,CACQ,CACT,CCnCA,MAAMC,EAAY,SAAS,cAAc,UAAU,EACpC,SAAS,cAAc,OAAO,EAC7C,MAAMC,EAAY,SAAS,cAAc,QAAQ,EAClC,SAAS,cAAc,SAAS,EAE/C,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC9C,SAAU,GACV,aAAc,QACd,aAAc,IACd,gBAAiB,QACnB,CAAC,EAIM,SAASC,EAAiBC,EAAG,CAClCA,EAAE,eAAc,EAChB,MAAMV,EAAQM,EAAU,MAAM,KAAI,EAElC,GAAIN,IAAU,GAAI,CAChBG,EAAS,QAAQ,CACf,QAAS,4BACT,SAAU,WACV,gBAAiB,kBACjB,WAAY,QACZ,aAAc,OACpB,CAAK,EACD,MACD,CAEDQ,IACAC,IAEAb,EAAiBC,CAAK,EACnB,KAAKa,GAAU,CACdC,EAAcD,CAAM,EACpBN,EAAS,QAAO,CACtB,CAAK,EACA,MAAMQ,GAAS,CACd,QAAQ,MAAM,sCAAuCA,CAAK,CAChE,CAAK,EACA,QAAQ,IAAM,CACbC,IACAV,EAAU,MAAQ,EACxB,CAAK,CACL,CAGA,SAASQ,EAAcD,EAAQ,CAC7B,MAAMI,EAASJ,EAAO,IACpB,CAAC,CAAE,aAAAK,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAO;AAAA;AAAA,mBAE/DL,CAAa,kCAAkCC,CAAI;AAAA,sBAChDF,CAAY;AAAA,sBACZE,CAAI;AAAA,+BACKC,CAAK,aAAaC,CAAK,gBAAgBC,CAAQ,iBAAiBC,CAAS;AAAA;AAAA,mDAErDH,CAAK;AAAA,mDACLC,CAAK;AAAA,sDACFC,CAAQ;AAAA,uDACPC,CAAS;AAAA;AAAA;AAAA,YAIhE,EAAI,KAAK,EAAE,EAETnB,EAAU,UAAYY,CACxB,CAIA,SAASN,GAAe,CACpB,MAAMN,EAAY,SAAS,cAAc,UAAU,EACnDA,EAAU,UAAY,EAC1B,CAEA,SAASO,GAAa,CACH,SAAS,cAAc,SAAS,EACxC,UAAU,IAAI,YAAY,CACrC,CAEA,SAASI,GAAa,CACH,SAAS,cAAc,SAAS,EACxC,UAAU,OAAO,YAAY,CACxC,CCvFA,MAAMS,EAAS,SAAS,cAAc,OAAO,EAC7CA,EAAO,iBAAiB,SAAUhB,CAAgB"}