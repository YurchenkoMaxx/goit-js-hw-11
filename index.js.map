{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import Axios from 'axios';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\n\n\nexport function getImagesByQuery(query) {\n       \n    return Axios.get(\"https://pixabay.com/api/\", {\n        params: {\n            key: '50312672-6ff896f2a2c8f700d68e76dd9',\n            q: query,\n            image_type: 'photo',\n            orientation: 'horizontal',\n            safesearch: 'true',\n        }\n    }).then(res => {\n        if (res.data.hits.length === 0) {\n            iziToast.warning({\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                position: 'topRight',\n                backgroundColor: '#ef4040',\n                titleColor: 'white',\n                messageColor: 'white',\n            });\n            return [];\n        }\n\n        return res.data.hits.map(hit => {\n            return {\n                webformatURL: hit.webformatURL,\n                largeImageURL: hit.largeImageURL,\n                tags: hit.tags,\n                likes: hit.likes,\n                views: hit.views,\n                comments: hit.comments,\n                downloads: hit.downloads\n            }\n});\n        });\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// export function getImagesByQuery(query) {\n//     const BASE_URL = 'https://pixabay.com/api/';\n\n//     const params = new URLSearchParams({\n//         key: '50312672-6ff896f2a2c8f700d68e76dd9',\n//         q: query,\n//         image_type: 'photo',\n//         orientation: 'horizontal',\n//         safesearch: 'true',      \n\n//     });\n\n//     const url = `${BASE_URL}?${params}`\n    \n//     return fetch(url, {params}).then(res => res.json());\n    \n// }\n// getImagesByQuery('flower');\n\n\n\n\n\n\n\n// refs.formEl.addEventListener('submit', e => {\n//     e.preventDefault();\n\n//     const userValue = e.target.elements.query.value;\n// })","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst galleryEl = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nlet lightbox = new SimpleLightbox('.gallery a', {\n  captions: true,\n  captionsData: 'title',\n  captionDelay: 250,\n  captionPosition: 'bottom',\n});\n\nexport function createGallery(images) {\n  const markup = images.map(\n    ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n      <li class=\"gallery-item\">\n        <a href=\"${largeImageURL}\" class=\"image-container\" alt=\"${tags}\">\n          <img src=\"${webformatURL}\"\n               alt=\"${tags}\"\n               title=\"Likes: ${likes} | Views: ${views} | Comments: ${comments} | Downloads: ${downloads}\" />\n          <div class=\"info-overlay\">\n            <div class=\"info-item\"><b>Likes</b>: ${likes}</div>\n            <div class=\"info-item\"><b>Views</b>: ${views}</div>\n            <div class=\"info-item\"><b>Comments</b>: ${comments}</div>\n            <div class=\"info-item\"><b>Downloads</b>: ${downloads}</div>\n          </div>\n        </a>\n      </li>`).join('');\n\n  galleryEl.innerHTML = markup;\n  lightbox.refresh();\n}\n\nexport function clearGallery() {\n  galleryEl.innerHTML = '';\n}\n\nexport function showLoader() {\n  loader.classList.add('is-visible');\n}\n\nexport function hideLoader() {\n  loader.classList.remove('is-visible');\n}","import { getImagesByQuery } from './js/pixabay-api';\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader\n} from './js/render-functions';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst formEl = document.querySelector('.form');\nconst inputEl = document.querySelector('.input');\n\nformEl.addEventListener('submit', handleFormSubmit);\n\nfunction handleFormSubmit(e) {\n  e.preventDefault();\n  const query = inputEl.value.trim();\n\n  if (query === '') {\n    iziToast.warning({\n      message: 'Будь ласка, введіть запит',\n      position: 'topRight',\n      backgroundColor: '#ef4040',\n      titleColor: 'white',\n      messageColor: 'white',\n    });\n    return;\n  }\n\n  clearGallery();\n  showLoader();\n\n  getImagesByQuery(query)\n    .then(images => {\n      if (images.length > 0) {\n        createGallery(images);\n      }\n    })\n    .catch(error => {\n      console.error('Помилка при завантаженні зображень:', error);\n      iziToast.error({\n        message: 'Виникла помилка при завантаженні. Спробуйте ще раз.',\n        position: 'topRight',\n        backgroundColor: '#ef4040',\n        titleColor: 'white',\n        messageColor: 'white',\n      });\n    })\n    .finally(() => {\n      hideLoader();\n      inputEl.value = '';\n    });\n}"],"names":["getImagesByQuery","query","Axios","res","iziToast","hit","galleryEl","loader","lightbox","SimpleLightbox","createGallery","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","formEl","inputEl","handleFormSubmit","e","error"],"mappings":"owBAOO,SAASA,EAAiBC,EAAO,CAEpC,OAAOC,EAAM,IAAI,2BAA4B,CACzC,OAAQ,CACJ,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACf,CACT,CAAK,EAAE,KAAKE,GACAA,EAAI,KAAK,KAAK,SAAW,GACzBC,EAAS,QAAQ,CACb,QAAS,2EACT,SAAU,WACV,gBAAiB,UACjB,WAAY,QACZ,aAAc,OAC9B,CAAa,EACM,IAGJD,EAAI,KAAK,KAAK,IAAIE,IACd,CACH,aAAcA,EAAI,aAClB,cAAeA,EAAI,cACnB,KAAMA,EAAI,KACV,MAAOA,EAAI,MACX,MAAOA,EAAI,MACX,SAAUA,EAAI,SACd,UAAWA,EAAI,SAClB,EACZ,CACQ,CACT,CCtCA,MAAMC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAS,SAAS,cAAc,SAAS,EAE/C,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC9C,SAAU,GACV,aAAc,QACd,aAAc,IACd,gBAAiB,QACnB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAASD,EAAO,IACpB,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAO;AAAA;AAAA,mBAE/DL,CAAa,kCAAkCC,CAAI;AAAA,sBAChDF,CAAY;AAAA,sBACZE,CAAI;AAAA,+BACKC,CAAK,aAAaC,CAAK,gBAAgBC,CAAQ,iBAAiBC,CAAS;AAAA;AAAA,mDAErDH,CAAK;AAAA,mDACLC,CAAK;AAAA,sDACFC,CAAQ;AAAA,uDACPC,CAAS;AAAA;AAAA;AAAA,YAGpD,EAAE,KAAK,EAAE,EAEnBb,EAAU,UAAYM,EACtBJ,EAAS,QAAO,CAClB,CAEO,SAASY,GAAe,CAC7Bd,EAAU,UAAY,EACxB,CAEO,SAASe,GAAa,CAC3Bd,EAAO,UAAU,IAAI,YAAY,CACnC,CAEO,SAASe,GAAa,CAC3Bf,EAAO,UAAU,OAAO,YAAY,CACtC,CCjCA,MAAMgB,EAAS,SAAS,cAAc,OAAO,EACvCC,EAAU,SAAS,cAAc,QAAQ,EAE/CD,EAAO,iBAAiB,SAAUE,CAAgB,EAElD,SAASA,EAAiBC,EAAG,CAC3BA,EAAE,eAAc,EAChB,MAAMzB,EAAQuB,EAAQ,MAAM,KAAI,EAEhC,GAAIvB,IAAU,GAAI,CAChBG,EAAS,QAAQ,CACf,QAAS,4BACT,SAAU,WACV,gBAAiB,UACjB,WAAY,QACZ,aAAc,OACpB,CAAK,EACD,MACD,CAEDgB,IACAC,IAEArB,EAAiBC,CAAK,EACnB,KAAKU,GAAU,CACVA,EAAO,OAAS,GAClBD,EAAcC,CAAM,CAE5B,CAAK,EACA,MAAMgB,GAAS,CACd,QAAQ,MAAM,sCAAuCA,CAAK,EAC1DvB,EAAS,MAAM,CACb,QAAS,sDACT,SAAU,WACV,gBAAiB,UACjB,WAAY,QACZ,aAAc,OACtB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbkB,IACAE,EAAQ,MAAQ,EACtB,CAAK,CACL"}